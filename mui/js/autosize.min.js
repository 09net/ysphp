!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.autosize=t()}(this,function(){function e(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),e.style.wordWrap="break-word";var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,n="none"!==t.maxHeight?parseFloat(t.maxHeight):!1,r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),o()}function o(){var t=e.style.height,o=document.documentElement.scrollTop,i=document.body.scrollTop;e.style.height="auto";var s=e.scrollHeight+r;if(n!==!1&&s>n?(s=n,"scroll"!==e.style.overflowY&&(e.style.overflowY="scroll")):"hidden"!==e.style.overflowY&&(e.style.overflowY="hidden"),e.style.height=s+"px",document.documentElement.scrollTop=o,document.body.scrollTop=i,t!==e.style.height){var d=document.createEvent("Event");d.initEvent("autosize.resized",!0,!1),e.dispatchEvent(d)}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!e.hasAttribute("data-autosize-on")){var n,r;"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o),window.addEventListener("resize",o),e.addEventListener("input",o),e.addEventListener("autosize.update",o),e.addEventListener("autosize.destroy",function(t){window.removeEventListener("resize",o),e.removeEventListener("input",o),e.removeEventListener("keyup",o),e.removeEventListener("autosize.destroy"),Object.keys(t).forEach(function(o){e.style[o]=t[o]}),e.removeAttribute("data-autosize-on")}.bind(e,{height:e.style.height,overflow:e.style.overflow,overflowY:e.style.overflowY,wordWrap:e.style.wordWrap,resize:e.style.resize})),e.setAttribute("data-autosize-on",!0),e.style.overflow="hidden",e.style.overflowY="hidden",t()}}return"function"!=typeof window.getComputedStyle?function(e){return e}:function(t){return t&&t.length?Array.prototype.forEach.call(t,e):t&&t.nodeName&&e(t),t}});

function get_text(id,slib){var from=document.getElementById('from').value;var to=document.getElementById('to').value;if(from==to){document.getElementById(id).value=document.getElementById('num').value;return true;}mui.post('/sl/'+slib,{size:hssize,num:document.getElementById('num').value,from:document.getElementById('from').value,to:document.getElementById('to').value},function(data){document.getElementById(id).value=data['q'];},'json');}

function oneid(slib,size,id){
$.ajax({url: www+'cdn/'+slib+'/'+size,type:'post',cache: false,data:{q:document.getElementById(id).value},dataType: 'json'}).then(function(data) {
document.getElementById(id).value=data['q'];
},function() {});

}
function aifrom_sub(slib,to){
	$.ajax({url: www+'sl/'+slib,type:'post',cache: false,data:$('#aifrom').serialize(),dataType: 'json'}).then(function(data) {
document.getElementById(to).value=data['q'];
},function() {});
	}
function aifrom_sub_mode(slib,to,mode){
	$.ajax({url: www+'sl/'+slib+'?mode='+mode,type:'post',cache: false,data:$('#aifrom').serialize(),dataType: 'json'}).then(function(data) {
document.getElementById(to).value=data['q'];
},function() {});
	}
function onesid(slib,size,from,to){
$.ajax({url: www+'sl/'+slib,type:'post',cache: false,data:{mode:size,q:document.getElementById(from).value},dataType: 'json'}).then(function(data) {
document.getElementById(to).value=data['q'];
},function() {});

}

function executeScript(html){
    var reg = /<script[^>]*>([^\x00]+)$/i;
    var htmlBlock = html.split("<\/script>");
    for (var i in htmlBlock) 
    {
        var blocks;
        if (blocks = htmlBlock[i].match(reg)) 
        {
            var code = blocks[1].replace(/<!--/, '');
            try 
            {
                eval(code);
            } 
            catch (e) 
            {
            }
        }
    }
}


function load_sel(sel,selName,num,nownum,url,remove){
if(remove){$("#"+selName+" option").each(function(){
$(this).remove();});}
$("<option value=0>---</option>").appendTo($("#"+selName));
var val = nownum ? nownum :$("#"+sel).val();
var geturl = url ? url :'qytree';
$.getJSON(www+geturl,{pid:val},function(data){ 
if(data){
$.each(data,function(idx,item){
if(item.val==num){
$("<option value="+item.val+" selected=\"selected\">"+item.name+"</option>").appendTo($("#"+selName));
}else{
$("<option value="+item.val+">"+item.name+"</option>").appendTo($("#"+selName));
} 
});
}else{
$("<option value='0'>--</option>").appendTo($("#"+selName));
}
});
}